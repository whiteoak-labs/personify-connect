Ext.define("Personify.controller.presenter.PresenterPanel",{extend:"Personify.base.Controller",control:{presenterListPanel:{selectpresentersitem:"onSelectPresenter"},presenterProfile:{closeinfopanel:"onClosePresenterDetailsButton"}},init:function(){this.showListPresenter()},showListPresenter:function(){var b=this.getPresenterListPanel();var a=this.getView().getRecord();b.setRecord(a)},onSelectPresenter:function(a){if(a){var f=this.getPresenterProfile();var e=Personify.utils.ServiceManager.getStoreManager();var c=e.getCustomerBiographyStore();var b=Ext.create(c);b.setDataRequest(a);this.getView().setMasked({xtype:"loadmask"});var d=this;b.load({callback:function(h,g,i){if(i){f.setListOfInfo(Personify.utils.Configuration.getConfiguration().getAt(0).DirectoryStore.get("listinfoPresenter"));f.getController().getCloseContactPanel().show();if(h.length>0){f.getController().setBioInfo(h[0])}else{f.getController().setBioInfo(null)}f.getController().setPresenterRecord(a);d.getView().setActiveItem(1)}else{Ext.Msg.alert("","This presenter has no information.",Ext.emptyFn)}d.getView().setMasked(false)},scope:this})}},onClosePresenterDetailsButton:function(){this.getView().setActiveItem(0);Ext.Viewport.setMasked(false)}});