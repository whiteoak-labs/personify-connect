Ext.define("Personify.controller.presenter.PresenterListPanel",{extend:"Personify.base.Controller",control:{searchFieldPresenter:{seachclearicontap:"onSearchClearIconTap",seachkeyup:"onSearchKeyUp"},presenterList:{itemtap:"onItemPresenterTap",itemtouchstart:"onItemTouchStartPresenter",itemtouchend:"onItemTouchEndPresenter"},btnClearFilter:{tap:"onSearchClearIconTap"}},init:function(){this.getSearchFieldPresenter().getController().setPlaceHolder("Search Presenters")},setStore:function(a){a.setGrouper({groupFn:function(b){return b.get("lastName")[0]}});a.setSorters({sorterFn:function(e,c){var g=e.get("lastName");var f=c.get("lastName");var d=g;var b=f;return d>b?1:(d==b?0:-1)}});a.setRemoteFilter(false);a.clearFilter();this.getPresenterList().setStore(a)},setRecord:function(a){this.setStore(a.SpeakersListEvent)},onItemPresenterTap:function(f,b,e,a,d,c){this.getView().fireEvent("selectpresentersitem",a)},onItemTouchStartPresenter:function(b,c,g,a,f,d){g.addCls("x-item-pressed")},onItemTouchEndPresenter:function(b,c,g,a,f,d){g.removeCls("x-item-pressed")},onSearchKeyUp:function(b,c){if(window.plugins.app47){window.plugins.app47.sendGenericEvent("Presenter Search")}var a=this.getPresenterList().getStore();if(a){a.clearFilter();if(c==13||c==10){if(b.trim()!=""||b.trim()!=null){this.getBtnClearFilter().setDisabled(false);a.filter(function(d){didMatch=(d.get("name").trim().toLowerCase()+" "+d.get("jobTitle").trim().toLowerCase()+" ").match(b.trim().toLowerCase());if(didMatch){return d}})}else{return}}else{return}}},onSearchClearIconTap:function(){this.getPresenterList().getStore().clearFilter();this.getBtnClearFilter().setDisabled(true);this.getSearchFieldPresenter().getController().clearSearchField();this.getPresenterList().deselectAll()}});