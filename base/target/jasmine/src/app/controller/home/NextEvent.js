Ext.define("Personify.controller.home.NextEvent",{extend:"Personify.base.Controller",inject:["personify","iCalendarStore"],config:{personify:null,iCalendarStore:null},control:{viewMoreEvent:{tap:"onViewMoreEventTap"},nextThreeEvent:{itemtap:"onEventItemTapped"}},init:function(){this.checkIsLoadEventList()},checkIsLoadEventList:function(){var b=this.getNextThreeEvent();var a=Ext.getStore("meetingListtingMain");if(a&&!b.isDestroyed){Ext.callback(function(){var e=Personify.utils.ServiceManager.getStoreManager();var c=e.getEventListStore();var d=Ext.create(c);a.each(function(f){d.add(f)});b.getController().setStore(d);b.getController().getThreeNextEvent();b.refresh();b.setGrouped(false)},this,[],1)}},onViewMoreEventTap:function(){var a=this;Ext.callback(function(){a.getView().fireEvent("onViewMoreEventTap")},a,[],1)},onEventItemTapped:function(f,b,e,a,d,c){this.getView().fireEvent("onEventItemTapped",a)},onUpdateEventList:function(a){var b=this.getNextThreeEvent();if(a&&a.getCount()>0){b.getController().setStore(a.first().EventListStore);b.getController().getThreeNextEvent();b.refresh();b.setGrouped(false)}else{b.getController().setStore(null)}}});