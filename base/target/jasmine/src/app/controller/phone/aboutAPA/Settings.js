Ext.define("Personify.controller.phone.aboutAPA.Settings",{extend:"Personify.base.Controller",control:{ptoolbarSettings:{onNavigationButtonTap:"onBack"},settingOption:true,applySetting:{tap:"onTapApply"}},init:function(){var a=this;a.getPtoolbarSettings().getController().setHiddenActionButton(true);if(window.plugins.applicationPreferences){window.plugins.applicationPreferences.getString("app47Id",function(b){a.getSettingOption().setValue(b)},function(){})}},onBack:function(){this.getView().fireEvent("back",this)},onTapApply:function(){if(!window.plugins.app47){Ext.Msg.alert("","App47 is supported on devices only.",Ext.emptyFn);return}var a=this;a.getSettingOption().blur();var b=a.getSettingOption().getValue();if(window.plugins.applicationPreferences){window.plugins.applicationPreferences.setString("app47Id",b,function(){Ext.Msg.alert("","Configured App47 agent successfully. Re-launch the app for your change to take effect.",Ext.emptyFn);a.getView().fireEvent("loggedout");window.plugins.applicationPreferences.setString("configurationLoaded","0",Ext.emptyFn,Ext.emptyFn)},function(c){Ext.Msg.alert("","There was an error configuring App47 agent, please check your App47 ID.",Ext.emptyFn)})}}});