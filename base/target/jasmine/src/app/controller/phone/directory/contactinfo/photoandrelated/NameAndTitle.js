Ext.define("Personify.controller.phone.directory.contactinfo.photoandrelated.NameAndTitle",{extend:"Personify.controller.profile.NameAndTitle",requires:["Personify.view.phone.directory.contactinfo.nameandtitle.OrganizationView","Personify.view.phone.directory.contactinfo.nameandtitle.NameAndTitleView","Personify.view.phone.directory.contactinfo.nameandtitle.NameEditForm","Personify.view.phone.directory.contactinfo.nameandtitle.TitleEditForm"],control:{},config:{errorMessage:"\nFollowing fields cannot be blank:",isEditing:false},init:function(){this.callParent(arguments)},setRecord:function(b){if(this.getIsEditing()){this.updateEditMode(true);return}this.getView().removeAll(true,true);var c=Ext.create("Personify.view.phone.directory.contactinfo.nameandtitle.OrganizationView");c.setRecord(b);var a=Ext.create("Personify.view.phone.directory.contactinfo.nameandtitle.NameAndTitleView");a.setRecord(b);this.getView().add(a);this.getView().add(c)},updateEditMode:function(b){this.setIsEditing(b);this.getView().removeAll(true,true);if(b==true){var c=Ext.create("Personify.view.phone.directory.contactinfo.nameandtitle.NameEditForm");c.getController().setRecord(this.getView().getRecord());c.getController().setListOfInfo(Personify.utils.Configuration.getConfiguration().getAt(0).DirectoryStore.PhotoAndRelatedEditStore);var a=Ext.create("Personify.view.phone.directory.contactinfo.nameandtitle.TitleEditForm");a.getController().setRecord(this.getView().getRecord());a.getController().setListOfInfo(Personify.utils.Configuration.getConfiguration().getAt(0).DirectoryStore.JobTitleEditStore);this.getView().add(c);this.getView().add(a)}else{this.setRecord(this.getView().getRecord())}}});