Ext.define("Personify.controller.phone.directory.contactinfo.ContactInfoEditForm",{extend:"Personify.controller.profile.ContactInfoManagement",inject:["currentUser"],config:{recordProfile:null,currentUser:null},control:{memberDetailToolbar:{onNavigationButtonTap:"onBack",actionButtonTap:"onTapDoneEditButton"},contactinfo:{updatedContact:"onUpdatedContact",updateContactFail:"onUpdateContactFail"}},init:function(){Ext.Viewport.setMasked({xtype:"loadmask"});var e=this;e.getMemberDetailToolbar().getController().setActionText("Save");e.getMemberDetailToolbar().getController().setNavigationText("Cancel");var c=e.getView().config;var a=c.record;var d=c.listOfInfo;var b=c.countryListStore;this.getContactinfo().getController().setCountryListStore(b);this.setEditmode(true);this.setListOfInfo(d);this.setRecord(a)},onTapDoneEditButton:function(){if(!Personify.utils.PhoneGapHelper.checkConnection()){Ext.Msg.alert("Connection","Please check your internet connection.",Ext.emptyFn);return}this.getContactinfo().getController().saveData()},onUpdatedContact:function(b){if(b){var a={};a.updatedContact=b;this.onBack(a)}},onUpdateContactFail:function(){var a={};this.onBack(a)},setCanedit:function(){},setListOfInfo:function(a){if(a){this.getContactinfo().getController().showListInfo(a)}},onBack:function(a){var b=this;var c=b.getView();c.fireEvent("back",this,a)},resetToolbox:function(){},updateEnableEditToolBox:function(a){if(this.getView()){this.getMemberDetailToolbar().getController().setHiddenActionButton(!a)}},refreshRecordAfterEditing:function(){},setEditmode:function(a){this.callParent(arguments)}});