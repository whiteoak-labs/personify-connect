Ext.define("Personify.controller.event.calendar.CalendarButton",{extend:"Personify.base.Controller",control:{selectYear:{change:"onChangeSelectYear"},selectMonth:{change:"onChangeSelectMonth"}},init:function(){this.onShowSelectYear(2012,2014);this.onShowCurrentDate()},onShowSelectYear:function(e,a){var d=new Array();var b=this.getSelectYear();for(var c=e;c<=a;c++){d.push({text:c,value:c})}b.setOptions(d)},onShowCurrentDate:function(){var a=new Date();this.getSelectYear().setValue(a.getFullYear());this.getSelectMonth().setValue(a.getMonth())},onChangeSelectYear:function(a,g,c,d){var f=this.getSelectMonth().getValue();var b=new Date();b.setDate(1);b.setMonth(f);b.setFullYear(g);var e=new Date();e.setDate(1);e.setMonth(f);e.setFullYear(c);this.getView().fireEvent("changecalendarview",b,e)},onChangeSelectMonth:function(a,g,c,d){var f=this.getSelectYear().getValue();var b=new Date();b.setDate(1);b.setMonth(g);b.setFullYear(f);var e=new Date();e.setDate(1);e.setMonth(c);e.setFullYear(f);this.getView().fireEvent("changecalendarview",b,e)}});