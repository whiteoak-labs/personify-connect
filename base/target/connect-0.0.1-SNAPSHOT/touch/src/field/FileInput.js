Ext.define("Ext.field.FileInput",{extend:"Ext.field.Input",xtype:"fileinput",config:{type:"file",accept:null,capture:null,name:null,multiple:false},captureLookup:{video:"camcorder",image:"camera",audio:"microphone"},initialize:function(){var a=this;a.callParent();a.input.on({scope:a,change:"onInputChange"})},getValue:function(){var a=this.input;if(a){this._value=a.dom.value}return this._value},setValue:function(b){var a=this._value;this._value=b;if(String(this._value)!=String(a)&&this.initialized){this.onChange(this,this._value,a)}return this},getFiles:function(){var a=this.input;if(a){this.$files=a.dom.files}return this.$files},onInputChange:function(a){this.setValue(a.target.value)},onChange:function(b,c,a){this.fireEvent("change",b,c,a)},applyName:function(a){if(this.getMultiple()&&a.substr(-2,2)!=="[]"){a+="[]"}else{if((!this.getMultiple())&&a.substr(-2,2)==="[]"){a=a.substr(0,a.length-2)}}return a},applyMultiple:function(a){this.updateFieldAttribute("multiple",a?"":null);return a},updateMultiple:function(){var a=this.getName();if(!Ext.isEmpty(a)){this.setName(a)}},applyAccept:function(a){switch(a){case"video":case"audio":case"image":a=a+"/*";break}this.updateFieldAttribute("accept",a)},applyCapture:function(a){this.updateFieldAttribute("capture",a);return a}});