Ext.regModel("Sencha.Protocol.Model",{fields:[{name:"id"}]});Ext.data.SyncStorageProxy=Ext.extend(Ext.data.Proxy,{constructor:function(a){Ext.data.utilities.check("SyncStorageProxy","constructor","config",a,["id","url","key"]);Ext.data.SyncStorageProxy.superclass.constructor.call(this,a);a.database_name=a.id;a.datastore_name="data";a.localStorageProxy=a.localStorageProxy||Ext.data.ProxyMgr.create({type:"localstorage",id:a.database_name});a.store=a.store||new Ext.data.SyncStore(a);a.remoteStorageProxy=a.remoteStorageProxy||Ext.data.ProxyMgr.create({type:"scripttag",url:a.url,model:"Sencha.Protocol.Model"});this.proxy=new Ext.data.SyncProxy(a);Ext.data.utilities.delegate(this,this.proxy,["create","read","update","destroy","setModel"]);this.protocol=new Ext.data.Protocol(a)},sync:function(b,a){this.protocol.sync(this.proxy,b,a)}});Ext.data.ProxyMgr.registerType("syncstorage",Ext.data.SyncStorageProxy);