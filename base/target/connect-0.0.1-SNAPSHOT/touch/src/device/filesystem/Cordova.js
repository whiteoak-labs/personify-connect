Ext.define("Ext.device.filesystem.Cordova",{alternateClassName:"Ext.device.filesystem.PhoneGap",extend:"Ext.device.filesystem.HTML5",constructor:function(){Ext.override(Ext.device.filesystem.Entry,{writeMetadata:function(a){var b=this;this.getEntry({options:a.options,success:function(c){c.setMetadata(function(){a.success.call(a.scope||b)},function(d){a.failure.call(a.scope||b,d)},a.metadata)},failure:function(c){a.failure.call(a.scope||b,c)}})},readMetadata:function(a){var b=this;this.getEntry({options:a.options,success:function(c){c.getMetadata(function(d){a.success.call(a.scope||b,d)},function(d){a.failure.call(a.scope||b,d)})},failure:function(c){a.failure.call(a.scope||b,c)}})}});Ext.override(Ext.device.filesystem.FileEntry,{writeData:function(b,a){b.write(a.toString())},upload:function(c){var b=new FileUploadOptions();b.fileKey=c.fileKey||"file";b.fileName=this.path.substr(this.path.lastIndexOf("/")+1);b.mimeType=c.mimeType||"image/jpeg";b.params=c.params||{};b.headers=c.headers||{};b.chunkMode=c.chunkMode||true;var a=new FileTransfer();a.upload(this.path,encodeURI(c.url),c.success,c.failure,b,c.trustAllHosts||false);return a},download:function(b){var a=new FileTransfer();a.download(encodeURI(b.source),this.path,b.success,b.failure,b.trustAllHosts||false,b.options||{});return a}})}});