Ext.define("Ext.device.storage.HTML5.Database",{requires:["Ext.device.storage.HTML5.SQLStatement"],db:null,constructor:function(a){this.db=window.openDatabase(a.name,a.version,a.displayName,a.size)},getVersion:function(){if(this.db){return this.db.version}Ext.Logger.warn("Database has not been opened before calling function #getVersion");return null},transaction:function(d,c,a){if(!this.db){Ext.Logger.warn("Database has not been opened before calling function #transaction");return}if(!Ext.isArray(d)){d=[d]}var b=function(e){Ext.each(d,function(f){if(Ext.isString(f)){e.executeSql(f)}else{if(Ext.isObject(f)){e.executeSql(f.sql,f.arguments,f.success,f.failure)}}})};this.db.transaction(b,a,c)}});