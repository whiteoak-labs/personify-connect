Ext.define("Personify.controller.phone.exhibitor.ExhibitorPanelPhone",{extend:"Personify.base.Controller",config:{indexItemCardExhibitorPanelPhoneActive:0},control:{ptoolbarExhibitorPanelPhone:{onNavigationButtonTap:"onTapNavigationButton"},cardExhibitorPanelPhone:true,allExhibitorPanelPhone:{openMyExhibitorsList:"changeShowCurrentListExPhone",onTapAllExhibitorListPhoneItem:"openItemExhibitorList"},myExhibitorPanelPhone:{openAllExhibitorsList:"changeShowCurrentListExPhone",onTapMyExhibitorListPhoneItem:"openItemExhibitorList"}},init:function(){var b=this,a=b.getView().getRecord();b.getPtoolbarExhibitorPanelPhone().setTitle("Exhibitors");b.getPtoolbarExhibitorPanelPhone().getTitle().setCls("p-phone-title-toolbar");b.setRecord(a);b.getPtoolbarExhibitorPanelPhone().getController().setHiddenActionButton(true)},setRecord:function(b){var c=this,a=c.getView();if(a&&!a.isDestroyed){if(b){c.getAllExhibitorPanelPhone().setRecord(b);c.getMyExhibitorPanelPhone().setRecord(b)}}},onTapNavigationButton:function(){this.getView().fireEvent("back",this)},changeShowCurrentListExPhone:function(){if(this.getIndexItemCardExhibitorPanelPhoneActive()==0){var a=Personify.utils.Configuration.getCurrentUser();if(a&&a.isLogged()){this.setIndexItemCardExhibitorPanelPhoneActive(1);this.getCardExhibitorPanelPhone().setActiveItem(1)}else{Personify.utils.ItemUtil.needToLogin()}}else{this.setIndexItemCardExhibitorPanelPhoneActive(0);this.getCardExhibitorPanelPhone().setActiveItem(0)}},openItemExhibitorList:function(b){var c=this.getView().getRecord();var a=Ext.create("Personify.view.phone.exhibitor.DetailItemListExhibitorPhone",{record:b,meetingRecord:c});a.addListener("updatemyexibitors",this.updateMyExhibitors,this);this.getView().fireEvent("requestopendetail",a,null)},updateMyExhibitors:function(){var a=this.getView().getRecord();this.getMyExhibitorPanelPhone().getController().getMyExhibitorFromSql(a)}});