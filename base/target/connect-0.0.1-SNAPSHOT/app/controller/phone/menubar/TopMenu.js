Ext.define("Personify.controller.phone.menubar.TopMenu",{extend:"Personify.base.Controller",inject:["shoppingCartStore"],config:{shoppingCartStore:null},control:{infoButtonOnPhoneMenu:{tap:"onTapInfoButtonOnPhoneMenu"},buttonNotificationPhone:{tap:"onTapButtonNotificationPhone"},menubarButton:{tap:"onMenuTopTap"},buttonShoppingCartPhone:{tap:"onTapButtonShoppingCartPhone"}},init:function(){this.getShoppingCartStore().on("load",this.onLoadDone,this)},destroy:function(){this.getShoppingCartStore().un("load",this.onLoadDone,this);return this.callParent(arguments)},onTapInfoButtonOnPhoneMenu:function(){this.getView().fireEvent("onTapInfoButtonOnPhoneMenu")},onMenuTopTap:function(){this.getView().fireEvent("onmenutap")},setTextButtonNotificationPhone:function(a){if(a!=""||a!=null){this.getButtonNotificationPhone().setHtml(a)}},setTextButtonShoppingCartPhone:function(a){if(a!=""||a!=null){this.getButtonShoppingCartPhone().setHtml(a)}},onTapButtonNotificationPhone:function(){if(Personify.utils.Configuration.getAllowChangeView()){this.getView().fireEvent("onTapButtonNotificationPhone")}else{Ext.Msg.alert("","Please enter the note title.",Ext.emptyFn)}},disableButtonNotificationPhone:function(a){if(a!=""||a!=null){this.getButtonNotificationPhone().setDisabled(a)}},onTapButtonShoppingCartPhone:function(){if(Personify.utils.Configuration.getAllowChangeView()){this.getView().fireEvent("onTapButtonShoppingCartPhone")}else{Ext.Msg.alert("","Please enter the note title.",Ext.emptyFn)}},onLoadDone:function(c,b,e){if(e){var a=Personify.utils.Configuration.getCurrentUser();if(a&&a.isLogged()){var d=0;c.each(function(f){d+=f.get("quantity")});this.getButtonShoppingCartPhone().setHtml(d.toString())}else{this.getButtonShoppingCartPhone().setHtml("0")}}},setEnableShoppingCart:function(a){this.getButtonShoppingCartPhone().setHidden(!a)}});