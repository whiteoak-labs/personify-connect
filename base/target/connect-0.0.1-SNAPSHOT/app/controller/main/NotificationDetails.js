Ext.define("Personify.controller.main.NotificationDetails",{extend:"Personify.base.Controller",control:{btnCancel:{tap:"onCloseForm"},notificationDetailsTemplate:{onOpenHyberLink:"onOpenHyberLink"},closeLogoutForm:{tap:"onCloseForm"},btnDelete:{tap:"onDeleteNotification"}},init:function(){var a=Ext.create("Ext.data.Store",{model:"Personify.model.jsonp.Notification"});a.setData([this.getView().getRecord()]);this.getNotificationDetailsTemplate().setStore(a)},onCloseForm:function(){this.getView().destroy()},onOpenHyberLink:function(a){if(Ext.os.is.Android){window.open(a.get("hyperLink"),"_blank","location=yes,enableViewportScale=yes")}else{window.open(a.get("hyperLink"),"_blank","location=no,enableViewportScale=yes")}},onDeleteNotification:function(){var b=this;Ext.Msg.confirm("","Are you sure you want to delete?",a);function a(d){Ext.Msg.hide();if(d=="yes"){var c=b.getView().getRecord();b.getView().getViewParent().getController().deleteNotification(c);b.onCloseForm()}}}});