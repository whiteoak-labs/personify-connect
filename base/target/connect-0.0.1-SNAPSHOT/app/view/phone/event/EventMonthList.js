Ext.define("Personify.view.phone.event.EventMonthList",{extend:"Ext.dataview.List",xtype:"eventmonthlist",config:{baseCls:"selectedFieldButtonNews",scrollToTopOnRefresh:false,itemTpl:new Ext.XTemplate('<tpl if="expanded">','<div class="p-filter-button-new-enabled">{[this.formatMonth(values.month, values.year)]}',"</div>",'<tpl for="events">','<div class="event-item-phone eventItemPanel-{#} eventItem-{#}" style = "display: -webkit-box; width: 100%; float: left;">','<div style = "display: -webkit-box; -webkit-box-orient: vertical;" class = "p-phone-itemlist-eventday eventItem-{#}">{[Ext.Date.format(Personify.utils.ItemUtil.convertStringToDate(values.data.startDateTimeString), "j")]}<sup class = "p-phone-itemlist-eventday-ordinalsuffix eventItem-{#}">{[Ext.Date.format(Personify.utils.ItemUtil.convertStringToDate(values.data.startDateTimeString), "S")]}</sup></div>','<div style = "-webkit-box-flex: 1.0;" class="p-phone-itemlist-eventcontent eventItem-{#}">','<div class=" eventItem-{#}">{[Personify.utils.ItemUtil.getDisplaysTimeWithTimeZoneCode(values.data)]}</div>','<div class="p-phone-event-name eventItem-{#}">{data.shortName}</div>','<div class="p-phone-event-location-registered eventItem-{#}">','<div style = "float:left;" class = "p-phone-event-location eventItem-{#}">{data.location}</div>','<div style = "float:right; margin-right: 20px" class = "p-text-registered eventItem-{#}">{[this.isRegistered(values.data.registered)]}</div>',"</div>","</div>","</div>","</tpl>","<tpl else>",'<div class="p-filter-button-new">{[this.formatMonth(values.month, values.year)]}',"</div>","</tpl>",{formatMonth:function(b,a){var c=new Date("01/01/2013");c.setFullYear(a);c.setMonth(b);return Ext.Date.format(c,"F, Y")},isRegistered:function(a){if(a){return"Registered"}else{return""}}}),listeners:{itemtap:function(k,g,h,d,j,l){var f=false;var g=null;var b=j.target.classList;for(var c=0,a=b.length;c<a;c++){if(b[c].indexOf("eventItem")>=0){f=true;g=b[c].split("-")[1];break}}if(f){this.fireEvent("eventitemtap",d.get("events")[g-1])}else{d.set("expanded",!d.get("expanded"))}},itemtouchstart:function(m,p,k,g,l,n){var h=false;var j=null;var b=l.target.classList;for(var f=0,a=b.length;f<a;f++){if(b[f].indexOf("eventItem")>=0){h=true;j=b[f].split("-")[1];break}}if(h){var d=".eventItemPanel-"+j;var o=m.getItemAt(p);var c="";if(Ext.isElement(o)){o=Ext.get(o)}if(o){if(o.isComponent){c=o.renderElement.down(d)}else{c=o.down(d)}}c.addCls("p-phone-common-list-selected")}},itemtouchend:function(m,p,k,g,l,n){var h=false;var j=null;var b=l.target.classList;for(var f=0,a=b.length;f<a;f++){if(b[f].indexOf("eventItem")>=0){h=true;j=b[f].split("-")[1];break}}if(h){var d=".eventItemPanel-"+j;var o=m.getItemAt(p);var c="";if(Ext.isElement(o)){o=Ext.get(o)}if(o){if(o.isComponent){c=o.renderElement.down(d)}else{c=o.down(d)}}c.removeCls("p-phone-common-list-selected")}}}}});