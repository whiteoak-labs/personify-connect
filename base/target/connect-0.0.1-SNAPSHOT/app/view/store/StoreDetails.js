Ext.define("Personify.view.store.StoreDetails",{extend:"Ext.dataview.DataView",alias:"widget.storedetail",config:{baseCls:"storeDetail",pressedCls:"p-storeitem-pressed",scrollable:null,itemTpl:new Ext.XTemplate('<div class="leftStoreDetail">',"{[this.showMemberOnly(values.membersonly)]}",'<img class="imageStoreDetail" src="{imageURL}" />',"{[this.showSoldOut(values.soldout, values.inventoriedProduct, values.subSystem)]}","</div>",'<div class="rightStoreDetail">','<div class="moreStoreTitle">{[Personify.utils.ItemUtil.getShortContent(values.name, 60)]}</div>','<div class="moreStorePrice">','<div class="moreStoreList">',"{[this.showListPrice(Personify.utils.ItemUtil.getWidthPrice(values.memberPrice, values.price, 7.8),Personify.utils.ItemUtil.formatPurchaseAmount(values.yourPrice, 2),Personify.utils.ItemUtil.formatPurchaseAmount(values.price, 2),values.yourPriceRateStructure)]}","</div>",'<div class="moreStoreMember">',"{[this.showPrice(Personify.utils.ItemUtil.getWidthPrice(values.memberPrice, values.price, 7.8),Personify.utils.ItemUtil.formatPurchaseAmount(values.yourPrice, 2),Personify.utils.ItemUtil.formatPurchaseAmount(values.memberPrice, 2),values.yourPriceRateStructure)]}","</div>",'<div class="morestorebackorder">',"{[this.showBackOrder(values.allowbackorders, values.availablequantity, values.inventoriedProduct)]}","{[this.showLimitQuantity(values.availablequantity, values.soldout, values.inventoriedProduct, values.allowbackorders)]}","</div>","</div>","</div>",{showMemberOnly:function(a){if(a){return'<div class="storememberonly">Member Only</div>'}else{return'<div class="morestorenoshowmemberonly"></div>'}},showSoldOut:function(a,c,b){if(c==false||b=="FND"){return'<div class="morestorenoshow"></div>'}if(a){return'<div class="storesoldout">Sold Out</div>'}else{return'<div class="morestorenoshow"></div>'}},showBackOrder:function(a,c,b){if(b==false){return'<div class="morestorenoshow"></div>'}else{if(a==true&&c>=1){return'<div class="morestorenoshow"></div>'}if(c==0&&a==true){return'<div class="storebackorder">Backorder Available</div>'}}return'<div class="morestorenoshow"></div>'},showLimitQuantity:function(d,b,c,a){if(c==false){return'<div class="morestorenoshow"></div>'}else{if(a==true&&d==0){return'<div class="morestorenoshow"></div>'}if(a==true&&d<=10&&d>0){return'<div class="storequantity">Limited Quantities</div>'}}if(d<100&&b==false){return'<div class="storequantity">Limited Quantities</div>'}else{return'<div class="morestorenoshow"></div>'}},showPrice:function(c,e,d,b){rateCode1=b?b.trim().toLowerCase():"list";var a=Personify.utils.Configuration.getCurrentUser();if(a.isLogged()){if(rateCode1=="list"){return'<span style="float: left;width: 83px;">Member Price: </span><span style="width:'+c+'px" class="moreStoreMemberPrice">'+d+"</span>"}else{return'<span style="float: left;width: 83px;">Your Price: </span><span style="width:'+c+'px" class="moreStoreMemberPrice">'+e+"</span>"}}else{return'<span style="float: left;width: 83px;">Member Price: </span><span style="width:'+c+'px" class="moreStoreMemberPrice">'+d+"</span>"}},showListPrice:function(c,d,e,b){rateCode1=b?b.trim().toLowerCase():"list";var a=Personify.utils.Configuration.getCurrentUser();if(a.isLogged()){if(rateCode1=="list"){return'<span style="float: left;width: 83px;">Your Price: </span><span style="width:'+c+'px" class="moreStoreListPrice">'+d+"</span>"}else{return'<span style="float: left;width: 83px;">List Price: </span><span style="width:'+c+'px" class="moreStoreListPrice">'+e+"</span>"}}else{return'<span style="float: left;width: 83px;">List Price: </span><span style="width:'+c+'px" class="moreStoreListPrice">'+e+"</span>"}}})}});