Ext.define("Ext.ux.field.FullScreenTextArea",{extend:"Ext.field.TextArea",xtype:"fullscreentextarea",config:{clearIcon:false,scrollModifier:1.8,editorMargin:0,editorPanel:{xtype:"sheet",top:0,left:0,bottom:0,right:0,layout:"fit",hidden:true,items:[{xtype:"textareafield",style:"background: #eeeeee;",clearIcon:false},{xtype:"toolbar",docked:(Ext.os.is.Phone?"bottom":"top"),layout:{type:"hbox",pack:"center"},items:[{xtype:"button",text:"Done",ui:"confirm"}]}]},listeners:{tap:{element:"innerElement",fn:"onFormFieldTap"},focus:{element:"innerElement",fn:function(){this.blur()},scope:this}}},applyEditorPanel:function(a){if(!this.editorPanel){this.editorPanel=Ext.factory(a,Ext.Panel);this.editorPanel.on("painted",this.onEditorPanelPainted,this);this.editorPanel.element.on("drag",this.onTouchMove,this)}return this.editorPanel},onAccept:function(){var a=this.editorPanel.down("textareafield").getValue();this.setValue(a);this.hidePanel()},hidePanel:function(){this.getEditorPanel().hide()},onEditorPanelPainted:function(){var b=this.getEditorPanel();b.query("button")[0].on("tap",this.onAccept,this,{single:true});var a=b.down("textareafield");var c=b.element.down(".x-sheet-inner");a.setHeight(c.getHeight());a.setWidth(c.getWidth())},onTouchMove:function(a){var b=this.getEditorPanel().down("textareafield").element.down("textarea");b.dom.scrollTop-=(a.deltaY/this.getScrollModifier())},onFormFieldTap:function(){var a=this.getEditorPanel();if(!this.isInitialized){this.isInitialized=true;Ext.Viewport.add(a)}a.down("textareafield").setValue(this.getValue());a.down("textareafield").setReadOnly(this.getReadOnly());a.show()}});