Ext.define("Personify.controller.phone.presenter.PresenterPanel",{extend:"Personify.base.Controller",requires:"Personify.view.phone.directory.ContactInfoManagement",control:{ptoolbarPresentersPhone:{onNavigationButtonTap:"onTapNavigationButton"},presenterlistpanelphone:{selectpresentersitem:"onSelectPresenter"},presenterTitleBar:true},init:function(){this.getPtoolbarPresentersPhone().getController().setHiddenActionButton(true);var a=this.getView().getRecord();var b="";if(a.get("shortName")){b=a.get("shortName")}else{if(a.get("title")){b=a.get("title")}}this.getPresenterTitleBar().setHtml(Personify.utils.ItemUtil.getShortContent(b,48));this.setRecord(a)},onTapNavigationButton:function(){this.getView().fireEvent("back",this)},setRecord:function(a){if(a.SpeakersListEvent){this.getPresenterlistpanelphone().getController().setStore(a.SpeakersListEvent)}else{if(a.SpeakerSession){this.getPresenterlistpanelphone().getController().setStore(a.SpeakerSession)}}},onSelectPresenter:function(a){var d=this;if(a){var e=Personify.utils.ServiceManager.getStoreManager(),c=e.getCustomerBiographyStore(),b=Ext.create(c);b.setDataRequest(a);d.getView().setMasked({xtype:"loadmask"});b.load({callback:function(g,f,i){var h=null;if(g.length>0){h=g[0]}d.getView().fireEvent("requestopendetail","Personify.view.phone.directory.ContactInfoManagement",{record:d.getView().config.record,listOfInfo:Personify.utils.Configuration.getConfiguration().getAt(0).DirectoryStore.get("listinfoPresenter"),bio:h,presenterRecord:a});d.getView().setMasked(false)},scope:d})}}});