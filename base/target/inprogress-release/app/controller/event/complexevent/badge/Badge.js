Ext.define("Personify.controller.event.complexevent.badge.Badge",{extend:"Personify.base.Controller",control:{badgeCode:{},badgeName:{},badgeJobTitle:{},badgeAssociation:{},view:{painted:"onPainted"}},init:function(){this.getData()},onPainted:function(){var a=this.getView().getRecord();var c=a.get("badgeData");var b=this.getBadgeCode().element.id;jQuery("#"+b).qrcode(c)},getData:function(){var g=this,f=g.getView(),h=Personify.utils.ServiceManager.getStoreManager(),e=Ext.create(h.getProfileStore()),a=Personify.utils.Configuration.getCurrentUser(),d=a.getProfileDisplayOptionStore();var c=a.isStaffMember(),b={MasterCustomerId:a.get("masterCustomerId"),SubCustomerId:a.get("subCustomerId"),ReqMasterCustomerId:a.get("masterCustomerId"),ReqSubCustomerId:a.get("subCustomerId"),IsStaff:c,RecordType:""};e.setDataRequest(b);e.on("load",function(k,j){var i=e.getAt(0).EntryProfile.getData().getAt(0);g.getBadgeJobTitle().setHtml(i.get("jobTitle"));g.getBadgeName().setHtml(i.get("displayName"))});e.load()}});