Ext.define("Personify.controller.schedule.PersonalAgenda",{extend:"Personify.base.Controller",control:{eventDay:true,eventMonth:true,timeDisplay:true,eventName:true,location:true,eventType:true,eventDescription:true,removeAgendaButton:{tap:"onRemoveAgendaButtonTap"},titlePersonalAgenda:{}},init:function(){var a=this.getView().getRecord();this.setRecord(a)},setRecord:function(b){if(b){var a=Personify.utils.ItemUtil;this.getEventDay().setHtml(a.getDayEventView(b.get("startDateTime")));this.getEventMonth().setHtml(a.getMonthEventView(b.get("startDateTime")));this.getTimeDisplay().setHtml(a.getDisplayTimeForEvent(b.get("startDateTimeString"),b.get("endDateTimeString")));this.getEventName().setHtml(b.get("title"));this.getEventType().setHtml(b.get("type"));this.getLocation().setHtml(b.get("location"));this.getEventDescription().setHtml("<b>Event Description: </b><br>"+b.get("description"));this.getTitlePersonalAgenda().setHtml("Personal Event");if(b.get("type").toUpperCase()=="PERSONAL"){if(b.get("meetingId").trim()!=""&&b.get("meetingId")!=0){this.getTitlePersonalAgenda().setHtml("Personal Session")}}}},onRemoveAgendaButtonTap:function(){var d=this;var a=this.getView().getRecord();var c=Personify.utils.ItemUtil.getMessageMatchTypeOfEvent(a);Ext.Msg.confirm("",c.msg,b);function b(e){Ext.Msg.hide();if(e=="yes"){d.getView().fireEvent("removeagenda",a,c.msgSuccess);d.getView().destroy();Ext.Msg.alert("",c.msgSuccess)}}}});