Ext.define("Personify.view.news.NewsList",{extend:"Ext.dataview.List",xtype:"newslist",config:{baseCls:"selectedFieldButtonNews",scrollToTopOnRefresh:false,itemTpl:new Ext.XTemplate('<tpl if="expanded">','<div class="p-filter-button-new-enabled newsButton">{name}',"</div>",'<tpl for="news">','<div class="newsFeedItem-item newsItemIndex-{#} {[xindex == parent.itemIndex ? "p-newFeedItem-selected": ""]}">','<div class="newsFeedItemTitle newsItemIndex-{#}">{[Personify.utils.ItemUtil.getShortContent(values.data.title, 80)]}</div>','<div class="newsFeedItemSourceDate newsItemIndex-{#}">','<div class="newsFeedItemDate newsItemIndex-{#}">{[Personify.utils.ItemUtil.formatJSONFullDate(values.data.date)]}</div>',"</div>","</div>","</tpl>","<tpl else>",'<div class="p-filter-button-new newsButton">{name}',"</div>","</tpl>"),listeners:{itemtap:function(m,j,k,g,l,n){var h=false;var a=null;var b=false;var d=l.target.classList;for(var f=0,c=d.length;f<c;f++){if(d[f].indexOf("newsItemIndex")>=0){h=true;a=d[f].split("-")[1];break}else{if(d[f].indexOf("newsButton")>=0){b=true}}}if(h){var o=m.getStore();o.each(function(e){if(e.get("itemIndex")!=0){e.set("itemIndex",0)}});g.set("itemIndex",parseInt(a));this.fireEvent("newstitemtap",g.get("news")[a-1])}else{if(b){g.set("expanded",!g.get("expanded"))}}}}}});