Ext.define("Personify.controller.phone.presenter.PresenterListPanel",{extend:"Personify.base.Controller",control:{searchFieldPresenterPhone:{onClearIconTap:"onClearIconTapSearchFieldPresenterPhone",onTextChange:"onTextChangeSearchFieldPresenterPhone"},presenterList:{itemtap:"onItemPresenterTap"}},setStore:function(a){if(a&&a!=null){a.setGrouper({groupFn:function(b){var c=b.get("lastName")?b.get("lastName"):b.get("name");return c[0]}});a.setSorters({sorterFn:function(e,c){var g=e.get("lastName")?e.get("lastName"):e.get("name");var f=c.get("lastName")?c.get("lastName"):c.get("name");var d=g;var b=f;return d>b?1:(d==b?0:-1)}});a.setRemoteFilter(false);a.clearFilter();this.getPresenterList().setStore(a);this.updateLaytouPresenterList()}},onTextChangeSearchFieldPresenterPhone:function(b){if(window.plugins.app47){window.plugins.app47.sendGenericEvent("Attendee Search")}var a=this.getPresenterList().getStore();if(a){a.clearFilter();if(b.trim()!=""){a.filter(function(c){didMatch=(c.get("name").trim().toLowerCase()+" "+c.get("jobTitle").trim().toLowerCase()+" ").match(b.trim().toLowerCase());if(didMatch){return c}})}this.updateLaytouPresenterList()}},onClearIconTapSearchFieldPresenterPhone:function(){this.getPresenterList().getStore().clearFilter();this.getPresenterList().deselectAll();this.updateLaytouPresenterList()},onItemPresenterTap:function(f,b,e,a,d,c){this.getView().fireEvent("selectpresentersitem",a)},updateLaytouPresenterList:function(){var c=this.getPresenterList().getViewItems();for(var a=0,b=c.length;a<b;a++){if(a%2===0){c[a].addCls("presenterlistitemeven")}else{c[a].addCls("presenterlistitemodd")}}}});