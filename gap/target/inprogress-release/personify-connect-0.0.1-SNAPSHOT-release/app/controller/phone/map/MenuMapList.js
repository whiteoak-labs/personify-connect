Ext.define("Personify.controller.phone.map.MenuMapList",{extend:"Personify.base.Controller",inject:["mapStore"],requires:["Personify.view.phone.map.MapDetail"],config:{mapStore:null},control:{view:{itemtap:function(j,h,i,f,d){var l=this.getView().getParent().getParent();var k=this.getView().getStore();var a=null;var g=f.get("mapId")?f.get("mapId"):0;k.each(function(o,m,n){if(o.get("mapId")==g){a=o}});if(a!=null&&a.get("image")!=null){var e=a.get("image");l.animateActiveItem(1,{type:"slide",direction:"left"});var c=Ext.create("Personify.view.event.map.PinchZoomImage",{src:e,width:"100",hight:"100",flex:1,itemId:"pinchzoomimage"});var b=l.getActiveItem();b.removeAt(1);c.updateMarkerPosition();b.add(c);b.items.items[0].setTitle(a.get("name"))}}}},init:function(){var b=Personify.utils.Configuration.getConfiguration().getAt(0).EventsStore.get("mapData");var a=this.getMapStore();a.setData(b.maps);this.getView().setStore(a);return this.callParent(arguments)}});