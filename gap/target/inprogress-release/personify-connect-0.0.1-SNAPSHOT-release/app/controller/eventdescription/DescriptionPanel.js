Ext.define("Personify.controller.eventdescription.DescriptionPanel",{extend:"Personify.base.Controller",requires:"Personify.view.news.NewsPage",control:{descriptionEventHeader:{inmyscheduletap:"onInMyScheudleTap"},descriptionContent:{},descriptionLinks:{itemtap:"onItemTapQuickLink"},quickLinkPanel:{},sponsorPanel:{}},init:function(){var a=this.getView().getRecord();this.setRecord(a)},setRecord:function(b){var d=this;if(b){var a=b.QuickLinkListEvent;this.getView().setRecord(b);this.getDescriptionEventHeader().getController().setRecord(b);this.getDescriptionContent().setRecord(b);var c=b.SponsorListEvent;if(c.getCount()>0){if(d.getSponsorPanel){d.getSponsorPanel().getController().setStore(c);d.getSponsorPanel().show()}}else{if(d.getSponsorPanel){d.getSponsorPanel().hide()}}a.clearFilter();a.setRemoteFilter(false);a.filterBy(function(e){if(e.get("name")){return true}},this);if(a.getCount()>0){this.getDescriptionLinks().setStore(a)}else{this.getQuickLinkPanel().hide()}}},onInMyScheudleTap:function(c){var b=this.getView();var a=b.getRecord();if(c){this.getView().getParent().fireEvent("deletesession",a,b,true)}else{this.getView().getParent().fireEvent("addsessiontoagenda",a,b,true)}},onItemTapQuickLink:function(b,c,g,a,f,d){if(Ext.os.is.Android){window.open(a.get("url"),"_blank","location=yes,enableViewportScale=yes")}else{window.open(a.get("url"),"_blank","location=no,enableViewportScale=yes")}}});