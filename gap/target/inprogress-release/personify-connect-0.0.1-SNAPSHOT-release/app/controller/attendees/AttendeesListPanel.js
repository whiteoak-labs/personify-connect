Ext.define("Personify.controller.attendees.AttendeesListPanel",{extend:"Personify.base.Controller",control:{searchFieldAttendees:{seachclearicontap:"onTapBtnClearFilter",seachkeyup:"onSearchKeyUp"},btnClearFilter:{tap:"onTapBtnClearFilter"},attendeesList:{itemtap:"onSelectAtendeeItemTap",itemtouchstart:"onItemTouchStartAttendee",itemtouchend:"onItemTouchEndAttendee"}},init:function(){this.getSearchFieldAttendees().getController().setPlaceHolder("Search Attendees")},setStore:function(a){a.clearFilter();this.getAttendeesList().setStore(a)},onSelectAtendeeItemTap:function(f,b,e,a,d,c){if(!Personify.utils.PhoneGapHelper.checkConnection()){Ext.Msg.alert("Connection","Please check your internet connection.",Ext.emptyFn);return}this.getView().fireEvent("selectattendeesitem",a)},onItemTouchStartAttendee:function(b,c,g,a,f,d){g.addCls("x-item-pressed")},onItemTouchEndAttendee:function(b,c,g,a,f,d){g.removeCls("x-item-pressed")},onSearchKeyUp:function(b,c){if(window.plugins.app47){window.plugins.app47.sendGenericEvent("Attendee Search")}var a=this.getAttendeesList().getStore();if(a){a.clearFilter();if(c==13||c==10){if(b.trim()!=""||b.trim()!=null){this.getBtnClearFilter().setDisabled(false);a.filter(function(d){didMatch=(d.get("firstName").trim().toLowerCase()+" "+d.get("lastName").trim().toLowerCase()+" "+d.get("employerName").trim().toLowerCase()+" ").match(b.trim().toLowerCase());if(didMatch){return d}})}else{return}}else{return}}},onTapBtnClearFilter:function(){this.getAttendeesList().getStore().clearFilter();this.getBtnClearFilter().setDisabled(true);this.getSearchFieldAttendees().getController().clearSearchField();this.getAttendeesList().deselectAll()}});