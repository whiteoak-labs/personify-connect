Ext.define("Personify.controller.profile.DisplayOption",{extend:"Personify.base.Controller",requires:"Personify.view.profile.Logout",inject:["personify","currentUser"],control:{optionList:{itemtap:"onListItemTapped"},goOnlineProfile:{tap:"goOnlineProfile"},logoutButton:{tap:"onTapLogoutButton"},toggleOption:{}},config:{personify:null,currentUser:null,record:null},onListItemTapped:function(b,c,f,a,d){this.getView().fireEvent("tapOnDisplayOptionItem",a)},onListSelected:function(b,a,c){this.getView().fireEvent("tapOnDisplayOptionItem",a)},onTapLogoutButton:function(){var a=Ext.Viewport.add({xtype:"logout",centered:true,modal:true,hideOnMaskTap:true});a.show()},goOnlineProfile:function(){Ext.Viewport.setMasked({xtype:"loadmask"});this.getCurrentUser().loadProfileUrl().then({success:function(a){if(Ext.os.is.Android){window.open(a,"_blank","location=yes,enableViewportScale=yes")}else{window.open(a,"_blank","location=no,enableViewportScale=yes")}},failure:function(){Ext.Msg.alert("","Cannot load online profile URL, please try again later.")}}).always(function(){Ext.Viewport.setMasked(false)})},updateRecord:function(a){this.getToggleOption().setRecord(a)},init:function(){var a=this;a.callParent(arguments)}});